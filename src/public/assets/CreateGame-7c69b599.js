import{d as u,r as c,A as p,c as _,a as e,w as g,b,v,t as f,u as y,o as h,_ as C}from"./index-5b40fb92.js";import{G as x}from"./game-d4e3b530.js";import{u as G}from"./useToast-ce2760a9.js";const w={class:"create-game-container"},E={class:"card create-game-card"},S={class:"form-group"},T={class:"form-buttons"},J=["disabled"],j=u({__name:"CreateGame",setup(k){const l=y(),{addToast:o}=G(),s=c(""),r=c(!1),n=p.getCurrentUser(),i=async()=>{if(!s.value.trim()){o({message:"El nombre del juego es requerido",type:"error"}),r.value=!1;return}r.value=!0;try{const t=await x.createGame({name:s.value.trim(),ownerId:n==null?void 0:n.id,totalTime:1200});o({message:"Â¡Juego creado exitosamente!",type:"success"}),setTimeout(()=>{l.push(`/owner/${t.id}`)},1500)}catch(t){console.error("Error creating game:",t);const a=t instanceof Error?t.message:"Error desconocido";o({message:`Error al crear el juego: ${a}`,type:"error"})}finally{r.value=!1}},m=()=>{l.push("/dashboard")};return(t,a)=>(h(),_("div",w,[e("div",E,[a[2]||(a[2]=e("h1",{class:"create-game-title"},"Crear Nuevo Juego",-1)),e("form",{id:"createGameForm",class:"create-game-form",onSubmit:g(i,["prevent"])},[e("div",S,[a[1]||(a[1]=e("label",{for:"name",class:"form-label"},"Nombre del Juego:",-1)),b(e("input",{type:"text",id:"name",name:"name",class:"form-input",required:"",placeholder:"Ingresa el nombre del juego","onUpdate:modelValue":a[0]||(a[0]=d=>s.value=d)},null,512),[[v,s.value]])]),e("div",T,[e("button",{type:"button",class:"btn btn-secondary",onClick:m}," Cancelar "),e("button",{type:"submit",class:"btn btn-primary",disabled:r.value},f(r.value?"Creando...":"Crear Juego"),9,J)])],32)])]))}});const N=C(j,[["__scopeId","data-v-1b8ade1b"]]);export{N as default};
