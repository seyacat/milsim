import{d as _,r as t,c as b,a as s,w,b as l,v as i,t as y,e as f,f as C,g as x,u as V,h as R,o as k,A as q,_ as T}from"./index-f447513b.js";import{u as N}from"./useToast-d2f086bf.js";const P={class:"register-container"},S={class:"card register-card"},U={class:"form-group"},B={class:"form-group"},E={class:"form-group"},A={class:"form-group"},D=["disabled"],I={class:"register-links"},L=_({__name:"Register",setup(M){const v=V(),{addToast:o}=N(),u=t(""),d=t(""),r=t(""),m=t(""),n=t(!1),c=async()=>{if(r.value!==m.value){o({message:"Las contraseñas no coinciden",type:"error"});return}if(r.value.length<6){o({message:"La contraseña debe tener al menos 6 caracteres",type:"error"});return}n.value=!0;try{await q.register({name:u.value,email:d.value,password:r.value}),o({message:"¡Cuenta creada exitosamente! Redirigiendo...",type:"success"}),setTimeout(()=>{v.push("/login")},2e3)}catch(p){o({message:"Error en registro: "+p.message,type:"error"})}finally{n.value=!1}};return(p,e)=>{const g=R("router-link");return k(),b("div",P,[s("div",S,[e[10]||(e[10]=s("h1",{class:"register-title"},"Crear Cuenta",-1)),s("form",{id:"registerForm",class:"register-form",onSubmit:w(c,["prevent"])},[s("div",U,[e[4]||(e[4]=s("label",{for:"name",class:"form-label"},"Nombre:",-1)),l(s("input",{type:"text",id:"name",name:"name",class:"form-input",required:"","onUpdate:modelValue":e[0]||(e[0]=a=>u.value=a)},null,512),[[i,u.value]])]),s("div",B,[e[5]||(e[5]=s("label",{for:"email",class:"form-label"},"Email:",-1)),l(s("input",{type:"email",id:"email",name:"email",class:"form-input",required:"","onUpdate:modelValue":e[1]||(e[1]=a=>d.value=a)},null,512),[[i,d.value]])]),s("div",E,[e[6]||(e[6]=s("label",{for:"password",class:"form-label"},"Contraseña:",-1)),l(s("input",{type:"password",id:"password",name:"password",class:"form-input",required:"",minlength:"6","onUpdate:modelValue":e[2]||(e[2]=a=>r.value=a)},null,512),[[i,r.value]])]),s("div",A,[e[7]||(e[7]=s("label",{for:"confirmPassword",class:"form-label"},"Confirmar Contraseña:",-1)),l(s("input",{type:"password",id:"confirmPassword",name:"confirmPassword",class:"form-input",required:"","onUpdate:modelValue":e[3]||(e[3]=a=>m.value=a)},null,512),[[i,m.value]])]),s("button",{type:"submit",class:"btn btn-primary",disabled:n.value},y(n.value?"Cargando...":"Registrarse"),9,D)],32),s("div",I,[s("p",null,[e[9]||(e[9]=f("¿Ya tienes cuenta? ",-1)),C(g,{to:"/login"},{default:x(()=>[...e[8]||(e[8]=[f("Inicia sesión aquí",-1)])]),_:1})])])])])}}});const j=T(L,[["__scopeId","data-v-43514453"]]);export{j as default};
