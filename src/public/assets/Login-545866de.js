import{d as v,r as i,c as f,a as s,w as _,b as d,v as u,t as b,e as p,f as w,g as y,u as x,h,o as E,A as L,_ as k}from"./index-7fbbb612.js";import{u as C}from"./useToast-f56536f2.js";const S={class:"login-container"},V={class:"card login-card"},N={class:"form-group"},T={class:"form-group"},q=["disabled"],B={class:"login-links"},I=v({__name:"Login",setup(R){const m=x(),{addToast:l}=C(),t=i(""),r=i(""),o=i(!1),c=async()=>{o.value=!0;try{const a=await L.login({email:t.value,password:r.value});l({message:"Login exitoso",type:"success"});try{await m.push("/dashboard")}catch(e){console.error("Login: Error en navegación:",e),window.location.href="/dashboard"}}catch(a){console.error("Login: Error en login:",a),l({message:"Error en login: "+a.message,type:"error"})}finally{o.value=!1}};return(a,e)=>{const g=h("router-link");return E(),f("div",S,[s("div",V,[e[6]||(e[6]=s("h1",{class:"login-title"},"Iniciar Sesión",-1)),s("form",{id:"loginForm",class:"login-form",onSubmit:_(c,["prevent"])},[s("div",N,[e[2]||(e[2]=s("label",{for:"email",class:"form-label"},"Email:",-1)),d(s("input",{type:"email",id:"email",name:"email",class:"form-input",required:"","onUpdate:modelValue":e[0]||(e[0]=n=>t.value=n)},null,512),[[u,t.value]])]),s("div",T,[e[3]||(e[3]=s("label",{for:"password",class:"form-label"},"Contraseña:",-1)),d(s("input",{type:"password",id:"password",name:"password",class:"form-input",required:"","onUpdate:modelValue":e[1]||(e[1]=n=>r.value=n)},null,512),[[u,r.value]])]),s("button",{type:"submit",class:"btn btn-primary",disabled:o.value},b(o.value?"Cargando...":"Ingresar"),9,q)],32),s("div",B,[s("p",null,[e[5]||(e[5]=p("¿No tienes cuenta? ",-1)),w(g,{to:"/register"},{default:y(()=>[...e[4]||(e[4]=[p("Regístrate aquí",-1)])]),_:1})])])])])}}});const M=k(I,[["__scopeId","data-v-493c5263"]]);export{M as default};
